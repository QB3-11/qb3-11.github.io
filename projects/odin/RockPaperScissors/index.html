<!DOCTYPE html> <html lang="en">
	<head>
		<link rel="stylesheet" href="./styles.css">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<title>Rock Paper Scissors</title>
	</head>
	<body>
		<div class=container id=header>
			<h1>ROCK PAPER SCISSORS</h1>
		</div>
		<div class=container>
			<div class=hand>
				<p class=score id=left-score>0</p>
				<img id=left src="./assets/paper.svg">
			</div>
			<div class=hand>
				<p class=score id=right-score>0</p>
				<img id=right src="./assets/scissors.svg">
			</div>
		</div>
		<div class=container id=controls>
			<button type=button class=btn id=rock value=0 onclick="play(0)">
				<img class=icon src="./assets/rock.svg" alt="Rock">
			</button>
			<button type=button class=btn id=paper value=1 onclick="play(1)">
				<img class=icon src="./assets/paper.svg" alt="Paper">
			</button>
			<button type=button class=btn id=scissors value=2 onclick="play(2)">
				<img class=icon src="./assets/scissors.svg" alt="Scissors">
			</button>
		</div>
		<script>
			const IMAGES = ["rock", "paper", "scissors"];
			
			const LEFT = document.getElementById("left");
			const RIGHT = document.getElementById("right");

			let userScore = 0;
			let computerScore = 0;

			let computerChoice = 0;

			function getComputerInput() {
				computerChoice = Math.floor(Math.random() * 3)
				return IMAGES[computerChoice]
			}

			function updateScore() {
				document.getElementById("left-score").innerHTML = userScore;
				document.getElementById("right-score").innerHTML = computerScore;
			}

			function updateUI(userChoice=updateScore(), ComputerChoice) {
				if (userChoice == undefined) {
					return;
				}
				LEFT.src = `./assets/${IMAGES[Number(userChoice)]}.svg`;
				RIGHT.src = `./assets/${IMAGES[computerChoice]}.svg`;
				updateScore();
			}

			function play(userChoice) {
				getComputerInput();
				updateUI(userChoice, computerChoice);
				
				if (userChoice != computerChoice) {
					if (userChoice - computerChoice == -1) {
						computerScore++;
					} else if (userChoice == 2 && computerChoice == 0) {
						computerScore++;
					} else {
						userScore++
					}
				}
				updateUI();
			}
		</script>
	</body>
</html>
